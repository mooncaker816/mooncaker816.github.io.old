
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>The Go Programming Language Ex（7） | Mooncaker816</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Ex 6.1Implement these additional methods: func (*IntSet) Len() int // return the number of elements  func (*IntSet) Remove(x int) //remove x from the set  func (*IntSet) Clear() // remove all elements">
<meta name="keywords" content="The Go Programming Language Ex,Go Method,Go BitMap">
<meta property="og:type" content="article">
<meta property="og:title" content="The Go Programming Language Ex（7）">
<meta property="og:url" content="https://mooncaker816.github.io/2017/12/29/The-Go-Programming-Language-Ex (7)/index.html">
<meta property="og:site_name" content="Mooncaker816">
<meta property="og:description" content="Ex 6.1Implement these additional methods: func (*IntSet) Len() int // return the number of elements  func (*IntSet) Remove(x int) //remove x from the set  func (*IntSet) Clear() // remove all elements">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-12-29T07:07:17.273Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The Go Programming Language Ex（7）">
<meta name="twitter:description" content="Ex 6.1Implement these additional methods: func (*IntSet) Len() int // return the number of elements  func (*IntSet) Remove(x int) //remove x from the set  func (*IntSet) Clear() // remove all elements">
  
    <link rel="alternative" href="/atom.xml" title="Mooncaker816" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Mooncaker816</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="mooncaker816.github.io">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-The-Go-Programming-Language-Ex (7)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/29/The-Go-Programming-Language-Ex (7)/" class="article-date">
  <time datetime="2017-12-28T16:00:00.000Z" itemprop="datePublished">2017-12-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Golang/">Golang</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      The Go Programming Language Ex（7）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Ex-6-1"><a href="#Ex-6-1" class="headerlink" title="Ex 6.1"></a>Ex 6.1</h3><p>Implement these additional methods:</p>
<p>func (*IntSet) Len() int // return the number of elements </p>
<p>func (*IntSet) Remove(x int) //remove x from the set </p>
<p>func (*IntSet) Clear() // remove all elements from the set </p>
<p>func (<em>IntSet) Copy() </em>IntSet // return a copy of the set</p>
<a id="more"></a>
<h3 id="Ex-6-2"><a href="#Ex-6-2" class="headerlink" title="Ex 6.2"></a>Ex 6.2</h3><p>Deﬁne a variadic (*IntSet).AddAll(…int) method that allows a list of values to be added, such as s.AddAll(1, 2, 3).</p>
<h3 id="Ex-6-3"><a href="#Ex-6-3" class="headerlink" title="Ex 6.3"></a>Ex 6.3</h3><p>(*IntSet).UnionWith computes the union of two sets using |, the word-parallel bitwise OR operator. Implement methods for IntersectWith, DifferenceWith, and SymmetricDifference for the corresponding set operations. (The symmetric difference of two sets contains the elements present in one set or the other but not both.)</p>
<h3 id="Ex-6-4"><a href="#Ex-6-4" class="headerlink" title="Ex 6.4"></a>Ex 6.4</h3><p>Add a method Elems that returns a slice containing the elements of the set, suitable for iterating over with a range loop.</p>
<h3 id="Ex-6-5"><a href="#Ex-6-5" class="headerlink" title="Ex 6.5"></a>Ex 6.5</h3><p>The type of each word used by IntSet is uint64, but 64-bit arithmetic may be inefﬁcient on a 32-bit platform. Modify the program to use the uint type, which is the most efﬁcient unsigned integer type for the platform. Instead of dividing by 64, deﬁne a constant holding the effective size of uint in bits, 32 or 64. You can use the perhaps too-clever expression 32 &lt;&lt; (^uint(0) &gt;&gt; 63) for this purpose.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"bytes"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> wordlen = <span class="number">32</span> &lt;&lt; (^<span class="keyword">uint</span>(<span class="number">0</span>) &gt;&gt; <span class="number">63</span>) <span class="comment">//当前计算机的位数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IntSet <span class="keyword">struct</span> &#123;</span><br><span class="line">	words []<span class="keyword">uint</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">Add</span><span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	word, bit := x/wordlen, <span class="keyword">uint</span>(x%wordlen)</span><br><span class="line">	<span class="keyword">for</span> word &gt;= <span class="built_in">len</span>(s.words) &#123;</span><br><span class="line">		s.words = <span class="built_in">append</span>(s.words, <span class="number">0</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	s.words[word] |= <span class="number">1</span> &lt;&lt; bit</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">Has</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	word, bit := x/wordlen, <span class="keyword">uint</span>(x%wordlen)</span><br><span class="line">	<span class="keyword">return</span> word &lt; <span class="built_in">len</span>(s.words) &amp;&amp; s.words[word]&amp;(<span class="number">1</span>&lt;&lt;bit) != <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">UnionWith</span><span class="params">(t *IntSet)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i, tword := <span class="keyword">range</span> t.words &#123;</span><br><span class="line">		<span class="keyword">if</span> i &lt; <span class="built_in">len</span>(s.words) &#123;</span><br><span class="line">			s.words[i] |= tword</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			s.words = <span class="built_in">append</span>(s.words, tword)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">String</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> buf bytes.Buffer</span><br><span class="line">	buf.WriteByte(<span class="string">'&#123;'</span>)</span><br><span class="line">	<span class="keyword">for</span> i, word := <span class="keyword">range</span> s.words &#123;</span><br><span class="line">		<span class="keyword">if</span> word == <span class="number">0</span> &#123;</span><br><span class="line">			<span class="keyword">continue</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; wordlen; j++ &#123;</span><br><span class="line">			<span class="keyword">if</span> word&amp;(<span class="number">1</span>&lt;&lt;<span class="keyword">uint</span>(j)) != <span class="number">0</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> buf.Len() &gt; <span class="built_in">len</span>(<span class="string">"&#123;"</span>) &#123;</span><br><span class="line">					buf.WriteByte(<span class="string">' '</span>)</span><br><span class="line">				&#125;</span><br><span class="line">				fmt.Fprintf(&amp;buf, <span class="string">"%d"</span>, wordlen*i+j)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	buf.WriteByte(<span class="string">'&#125;'</span>)</span><br><span class="line">	<span class="keyword">return</span> buf.String()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">Len</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> count <span class="keyword">int</span></span><br><span class="line">	<span class="keyword">for</span> _, n := <span class="keyword">range</span> s.words &#123;</span><br><span class="line">		<span class="keyword">for</span> n != <span class="number">0</span> &#123;</span><br><span class="line">			count++</span><br><span class="line">			n = n &amp; (n - <span class="number">1</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> count</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">Remove</span><span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	word, bit := x/wordlen, <span class="keyword">uint</span>(x%wordlen)</span><br><span class="line">	<span class="keyword">if</span> word &lt; <span class="built_in">len</span>(s.words) &#123;</span><br><span class="line">		s.words[word] &amp;= ^(<span class="number">1</span> &lt;&lt; bit)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">Clear</span><span class="params">()</span></span> &#123;</span><br><span class="line">	s.words = []<span class="keyword">uint</span>&#123;<span class="number">0</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">Copy</span><span class="params">()</span> *<span class="title">IntSet</span></span> &#123;</span><br><span class="line">	ns := IntSet&#123;<span class="built_in">make</span>([]<span class="keyword">uint</span>, <span class="built_in">len</span>(s.words))&#125;</span><br><span class="line">	<span class="built_in">copy</span>(ns.words, s.words)</span><br><span class="line">	<span class="keyword">return</span> &amp;ns</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">AddAll</span><span class="params">(x ...<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> x &#123;</span><br><span class="line">		s.Add(v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">IntersectWith</span><span class="params">(t *IntSet)</span> *<span class="title">IntSet</span></span> &#123;</span><br><span class="line">	tmp := <span class="built_in">make</span>([]<span class="keyword">uint</span>, <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">for</span> i, tword := <span class="keyword">range</span> t.words &#123;</span><br><span class="line">		<span class="keyword">if</span> i &lt; <span class="built_in">len</span>(s.words) &#123;</span><br><span class="line">			tmp = <span class="built_in">append</span>(tmp, s.words[i]&amp;tword)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> &amp;IntSet&#123;tmp&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">SymmetricDifference</span><span class="params">(t *IntSet)</span> *<span class="title">IntSet</span></span> &#123;</span><br><span class="line">	tmp := <span class="built_in">make</span>([]<span class="keyword">uint</span>, <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(t.words) &gt; <span class="built_in">len</span>(s.words) &#123;</span><br><span class="line">		<span class="keyword">for</span> i, tword := <span class="keyword">range</span> t.words &#123;</span><br><span class="line">			<span class="keyword">if</span> i &lt; <span class="built_in">len</span>(s.words) &#123;</span><br><span class="line">				tmp = <span class="built_in">append</span>(tmp, s.words[i]^tword)</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				tmp = <span class="built_in">append</span>(tmp, tword)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> i, sword := <span class="keyword">range</span> s.words &#123;</span><br><span class="line">			<span class="keyword">if</span> i &lt; <span class="built_in">len</span>(t.words) &#123;</span><br><span class="line">				tmp = <span class="built_in">append</span>(tmp, t.words[i]^sword)</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				tmp = <span class="built_in">append</span>(tmp, sword)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> &amp;IntSet&#123;tmp&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">DifferenceWith</span><span class="params">(t *IntSet)</span> *<span class="title">IntSet</span></span> &#123;</span><br><span class="line">	tmp := <span class="built_in">make</span>([]<span class="keyword">uint</span>, <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">for</span> i, sword := <span class="keyword">range</span> s.words &#123;</span><br><span class="line">		<span class="keyword">if</span> i &lt; <span class="built_in">len</span>(t.words) &#123;</span><br><span class="line">			tmp = <span class="built_in">append</span>(tmp, sword&amp;^t.words[i])</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			tmp = <span class="built_in">append</span>(tmp, sword)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> &amp;IntSet&#123;tmp&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *IntSet)</span> <span class="title">Elems</span><span class="params">()</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">	tmp := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">for</span> i, word := <span class="keyword">range</span> s.words &#123;</span><br><span class="line">		<span class="keyword">if</span> word == <span class="number">0</span> &#123;</span><br><span class="line">			<span class="keyword">continue</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; wordlen; j++ &#123;</span><br><span class="line">			<span class="keyword">if</span> word&amp;(<span class="number">1</span>&lt;&lt;<span class="keyword">uint</span>(j)) != <span class="number">0</span> &#123;</span><br><span class="line">				tmp = <span class="built_in">append</span>(tmp, wordlen*i+j)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> tmp</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> set1, set2, set3 IntSet</span><br><span class="line">	set1.Add(<span class="number">1</span>)</span><br><span class="line">	set1.Add(<span class="number">22</span>)</span><br><span class="line">	set2.Add(<span class="number">333</span>)</span><br><span class="line">	fmt.Println(<span class="string">"set1:"</span>, &amp;set1)</span><br><span class="line">	fmt.Println(<span class="string">"set1 是否包含1："</span>, set1.Has(<span class="number">1</span>), <span class="string">"set1 是否包含333："</span>, set1.Has(<span class="number">333</span>))</span><br><span class="line">	fmt.Println(<span class="string">"before union with &#123;333&#125;: "</span>, &amp;set1)</span><br><span class="line">	fmt.Println(<span class="string">"len: "</span>, set1.Len())</span><br><span class="line">	set1.UnionWith(&amp;set2)</span><br><span class="line">	fmt.Println(<span class="string">"after union with &#123;333&#125;: "</span>, &amp;set1)</span><br><span class="line">	fmt.Println(<span class="string">"len: "</span>, set1.Len())</span><br><span class="line">	set1.Remove(<span class="number">22</span>)</span><br><span class="line">	fmt.Println(<span class="string">"after remove 22: "</span>, &amp;set1)</span><br><span class="line">	fmt.Println(<span class="string">"len: "</span>, set1.Len())</span><br><span class="line">	set3 = *set1.Copy()</span><br><span class="line">	fmt.Println(<span class="string">"copy set1 to set3: "</span>, &amp;set3)</span><br><span class="line">	set1.Clear()</span><br><span class="line">	fmt.Println(<span class="string">"after clear set1: "</span>, &amp;set1, &amp;set3)</span><br><span class="line">	set3.AddAll(<span class="number">4444</span>, <span class="number">55555</span>)</span><br><span class="line">	fmt.Println(<span class="string">"after add all set3: "</span>, &amp;set3)</span><br><span class="line">	set2.AddAll(<span class="number">55555</span>, <span class="number">666666</span>)</span><br><span class="line">	fmt.Println(<span class="string">"se2:"</span>, &amp;set2)</span><br><span class="line">	fmt.Println(<span class="string">"se3:"</span>, &amp;set3)</span><br><span class="line">	fmt.Println(<span class="string">"set2交set3:"</span>, set2.IntersectWith(&amp;set3))</span><br><span class="line">	fmt.Println(<span class="string">"set2 DifferenceWith set3:"</span>, set2.DifferenceWith(&amp;set3))</span><br><span class="line">	fmt.Println(<span class="string">"set3 DifferenceWith set2:"</span>, set3.DifferenceWith(&amp;set2))</span><br><span class="line">	fmt.Println(<span class="string">"set2 SymmetricDifference set3:"</span>, set2.SymmetricDifference(&amp;set3))</span><br><span class="line">	fmt.Println(<span class="string">"set3 SymmetricDifference set2:"</span>, set3.SymmetricDifference(&amp;set2))</span><br><span class="line">	fmt.Println(<span class="string">"elem slice in set2:"</span>, set2.Elems())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ go run bitmap.go</span><br><span class="line">set1: &#123;1 22&#125;</span><br><span class="line">set1 是否包含1： <span class="literal">true</span> set1 是否包含333： <span class="literal">false</span></span><br><span class="line">before union with &#123;333&#125;:  &#123;1 22&#125;</span><br><span class="line">len:  2</span><br><span class="line">after union with &#123;333&#125;:  &#123;1 22 333&#125;</span><br><span class="line">len:  3</span><br><span class="line">after remove 22:  &#123;1 333&#125;</span><br><span class="line">len:  2</span><br><span class="line">copy set1 to set3:  &#123;1 333&#125;</span><br><span class="line">after clear set1:  &#123;&#125; &#123;1 333&#125;</span><br><span class="line">after add all set3:  &#123;1 333 4444 55555&#125;</span><br><span class="line">se2: &#123;333 55555 666666&#125;</span><br><span class="line">se3: &#123;1 333 4444 55555&#125;</span><br><span class="line">set2交set3: &#123;333 55555&#125;</span><br><span class="line">set2 DifferenceWith set3: &#123;666666&#125;</span><br><span class="line">set3 DifferenceWith set2: &#123;1 4444&#125;</span><br><span class="line">set2 SymmetricDifference set3: &#123;1 4444 666666&#125;</span><br><span class="line">set3 SymmetricDifference set2: &#123;1 4444 666666&#125;</span><br><span class="line">elem slice <span class="keyword">in</span> set2: [333 55555 666666]</span><br></pre></td></tr></table></figure>

      
      
  <div class="article-statement">
    <hr>  
    1.如果本文帮到了您，不妨点一下右下角的 <a>分享到</a> 按钮。<br>
    2.除非注明，本博文章均为原创，转载请以链接形式标明本文地址。<br>
  </div>

    </div>
    <footer class="article-footer">
      
        <a data-url="https://mooncaker816.github.io/2017/12/29/The-Go-Programming-Language-Ex (7)/" data-id="cjbuwnn69000qa6w5cj747dnt" class="article-share-link" data-share="baidu" data-title="The Go Programming Language Ex（7）">分享到</a>
      

      
      
        <a href="/2017/12/29/The-Go-Programming-Language-Ex (7)/#comments" class="article-comment-link">
          <span class="post-comments-count valine-comment-count" data-xid="/2017/12/29/The-Go-Programming-Language-Ex (7)/" itemprop="commentCount"></span>
          文章评论
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Go-BitMap/">Go BitMap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Go-Method/">Go Method</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/The-Go-Programming-Language-Ex/">The Go Programming Language Ex</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/12/31/The-Go-Programming-Language-Ex (8)/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          The Go Programming Language Ex（8）
        
      </div>
    </a>
  
  
    <a href="/2017/12/28/The-Go-Programming-Language-Ex (6)/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">The Go Programming Language Ex（6）</div>
    </a>
  
</nav>

  
</article>



  <section id="comments" class="vcomment">
  </section>

</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/">Golang</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-BitMap/">Go BitMap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-Func/">Go Func</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-In-Action/">Go In Action</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-Interface/">Go Interface</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-JSON/">Go JSON</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-Method/">Go Method</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-Scanner/">Go Scanner</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-array/">Go array</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-interface/">Go interface</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-map/">Go map</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-method/">Go method</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-package/">Go package</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-slice/">Go slice</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-template/">Go template</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go-type/">Go type</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/The-Go-Programming-Language-Ex/">The Go Programming Language Ex</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Go-BitMap/" style="font-size: 10px;">Go BitMap</a> <a href="/tags/Go-Func/" style="font-size: 10px;">Go Func</a> <a href="/tags/Go-In-Action/" style="font-size: 16.67px;">Go In Action</a> <a href="/tags/Go-Interface/" style="font-size: 10px;">Go Interface</a> <a href="/tags/Go-JSON/" style="font-size: 10px;">Go JSON</a> <a href="/tags/Go-Method/" style="font-size: 10px;">Go Method</a> <a href="/tags/Go-Scanner/" style="font-size: 10px;">Go Scanner</a> <a href="/tags/Go-array/" style="font-size: 10px;">Go array</a> <a href="/tags/Go-interface/" style="font-size: 10px;">Go interface</a> <a href="/tags/Go-map/" style="font-size: 13.33px;">Go map</a> <a href="/tags/Go-method/" style="font-size: 10px;">Go method</a> <a href="/tags/Go-package/" style="font-size: 10px;">Go package</a> <a href="/tags/Go-slice/" style="font-size: 13.33px;">Go slice</a> <a href="/tags/Go-template/" style="font-size: 10px;">Go template</a> <a href="/tags/Go-type/" style="font-size: 10px;">Go type</a> <a href="/tags/The-Go-Programming-Language-Ex/" style="font-size: 20px;">The Go Programming Language Ex</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/12/31/The-Go-Programming-Language-Ex (8)/">The Go Programming Language Ex（8）</a>
          </li>
        
          <li>
            <a href="/2017/12/29/The-Go-Programming-Language-Ex (7)/">The Go Programming Language Ex（7）</a>
          </li>
        
          <li>
            <a href="/2017/12/28/The-Go-Programming-Language-Ex (6)/">The Go Programming Language Ex（6）</a>
          </li>
        
          <li>
            <a href="/2017/12/24/The-Go-Programming-Language-Ex (5)/">The Go Programming Language Ex（5）</a>
          </li>
        
          <li>
            <a href="/2017/12/23/The-Go-Programming-Language-Ex (4)/">The Go Programming Language Ex（4）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://github.com/mooncaker816" target="_blank">我的github</a>
          </li>
        
          <li>
            <a href="https://coding.net/u/mooncaker816" target="_blank">我的coding</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
  </script>
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Mingle<br>
      Powered by <a href="//hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a><br/>
      <span id="busuanzi_container_site_pv">
        总访问量 <a href="http://service.ibruce.info/" target="_blank"><span id="busuanzi_value_site_pv"></span></a> 次
      </span>
      <span id="busuanzi_container_site_uv">
        <a href="http://service.ibruce.info/" target="_blank"><span id="busuanzi_value_site_uv"></span></a> 人.
      </span>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>
  function SetShareData(cmd, config) {
    if (shareDataTitle && shareDataUrl) {
      config.bdText = shareDataTitle;
      config.bdUrl = shareDataUrl;
    }
    return config;
  }
  window._bd_share_config={
    "common":{onBeforeClick: SetShareData},
    "share":{"bdCustomStyle":"/css/bdshare.css"}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

<!-- 百度分享 end -->


<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js"></script>


  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    var GUEST_INFO = ['nick','mail','link'];
    var guest_info = 'nick,mail,link'.split(',').filter(function(item){
        return GUEST_INFO.indexOf(item) > -1
    });
    var notify = 'false' == true;
    var verify = 'false' == true;
    new Valine({
        el: '.vcomment',
        notify: notify,
        verify: verify,
        appId: "urzxMG6IH6XwD3AIW0VH4lMb-gzGzoHsz",
        appKey: "WPbRVjy6oFOvnxYJJx9uTRR9",
        placeholder: "来侃一侃~",
        pageSize:'10',
        avatar:'identicon',
        lang:'zh-cn'
    });
</script>


</div>
</body>
</html>
